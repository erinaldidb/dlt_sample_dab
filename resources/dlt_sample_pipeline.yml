# The main pipeline for dlt_sample
variables:
  BRANCH_NAME:
    description: The current branch of the deployment
    lookup:
      cluster: ${{ github.head_ref || github.ref_name }} 

resources:
  pipelines:
    dlt_sample_pipeline:
      name: dlt_sample_pipeline [${var.BRANCH_NAME}]
      catalog: "ema_rina"
      target: dlt_sample_pr_${var.BRANCH_NAME}
      libraries:
        - notebook:
            path: ../src/dlt_sample/DLT_1.py
        - notebook:
            path: ../src/dlt_sample/DLT_2.sql
        - notebook:
            path: ../src/dlt_sample/DLT_3.sql

      configuration:
        bundle.sourcePath: /Workspace/${workspace.file_path}/src

